<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="catv1.Views.SignUpPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:vm="clr-namespace:catv1.ViewModels"
    Title="Sign Up"
    BackgroundColor="#0F172A"
    Shell.NavBarIsVisible="False">

    <Grid>
        <!--  Background Image  -->
        <Image
            Aspect="AspectFill"
            Opacity="0.15"
            Source="lecture_room_bg.png" />

        <!--  Background Decoration  -->
        <BoxView
            CornerRadius="500"
            HeightRequest="500"
            HorizontalOptions="End"
            Opacity="0.1"
            TranslationX="100"
            TranslationY="-200"
            VerticalOptions="Start"
            WidthRequest="500"
            Color="#1E293B" />

        <BoxView
            CornerRadius="300"
            HeightRequest="300"
            HorizontalOptions="Start"
            Opacity="0.05"
            TranslationX="-100"
            TranslationY="100"
            VerticalOptions="End"
            WidthRequest="300"
            Color="#10B981" />

        <ScrollView>
            <Grid Padding="30" RowDefinitions="Auto, *">

                <!--  Header  -->
                <VerticalStackLayout
                    Grid.Row="0"
                    Margin="0,20,0,0"
                    Spacing="10">
                    <Label
                        FontAttributes="Bold"
                        FontSize="28"
                        HorizontalOptions="Center"
                        Text="Create Account"
                        TextColor="White" />
                    <Label
                        FontSize="14"
                        HorizontalOptions="Center"
                        Text="Join the Smart Attendance System"
                        TextColor="#94A3B8" />
                </VerticalStackLayout>

                <!--  Sign Up Card  -->
                <Border
                    Grid.Row="1"
                    Margin="0,30,0,20"
                    Padding="25"
                    BackgroundColor="#E61E293B"
                    Stroke="#334155"
                    StrokeShape="RoundRectangle 20"
                    StrokeThickness="1"
                    VerticalOptions="Start">
                    <Border.Shadow>
                        <Shadow
                            Brush="Black"
                            Opacity="0.3"
                            Radius="30"
                            Offset="0,10" />
                    </Border.Shadow>

                    <VerticalStackLayout Spacing="20">
                        <!--  Role Switcher  -->
                        <Border
                            Padding="4"
                            BackgroundColor="#0F172A"
                            Stroke="Transparent"
                            StrokeShape="RoundRectangle 10">
                            <Grid ColumnDefinitions="*,*">
                                <Button
                                    x:Name="BtnStudent"
                                    BackgroundColor="{Binding StudentBtnBgColor}"
                                    Command="{Binding StudentCommand}"
                                    CornerRadius="8"
                                    FontAttributes="Bold"
                                    FontSize="14"
                                    HeightRequest="40"
                                    Text="Student"
                                    TextColor="{Binding StudentBtnTextColor}" />
                                <Button
                                    x:Name="BtnLecturer"
                                    Grid.Column="1"
                                    BackgroundColor="{Binding LecturerBtnBgColor}"
                                    Command="{Binding LecturerCommand}"
                                    CornerRadius="8"
                                    FontAttributes="Bold"
                                    FontSize="14"
                                    HeightRequest="40"
                                    Text="Lecturer"
                                    TextColor="{Binding LecturerBtnTextColor}" />
                            </Grid>
                        </Border>

                        <Label
                            x:Name="LblSignUpTitle"
                            FontAttributes="Bold"
                            FontSize="18"
                            HorizontalOptions="Center"
                            Text="{Binding SignUpTitle}"
                            TextColor="White" />

                        <!--  Input Fields  -->
                        <VerticalStackLayout Spacing="20">
                            <!--  Name Fields  -->
                            <Grid ColumnDefinitions="*, *" ColumnSpacing="10">
                                <VerticalStackLayout Spacing="8">
                                    <Label
                                        FontAttributes="Bold"
                                        FontSize="12"
                                        Text="FIRST NAME"
                                        TextColor="#CBD5E1" />
                                    <Border
                                        BackgroundColor="#0F172A"
                                        HeightRequest="50"
                                        Stroke="#334155"
                                        StrokeShape="RoundRectangle 8"
                                        StrokeThickness="1">
                                        <Entry
                                            Margin="15,0"
                                            Placeholder="John"
                                            PlaceholderColor="#475569"
                                            Text="{Binding FirstName}"
                                            TextColor="White"
                                            VerticalOptions="Center" />
                                    </Border>
                                </VerticalStackLayout>
                                <VerticalStackLayout Grid.Column="1" Spacing="8">
                                    <Label
                                        FontAttributes="Bold"
                                        FontSize="12"
                                        Text="LAST NAME"
                                        TextColor="#CBD5E1" />
                                    <Border
                                        BackgroundColor="#0F172A"
                                        HeightRequest="50"
                                        Stroke="#334155"
                                        StrokeShape="RoundRectangle 8"
                                        StrokeThickness="1">
                                        <Entry
                                            Margin="15,0"
                                            Placeholder="Doe"
                                            PlaceholderColor="#475569"
                                            Text="{Binding LastName}"
                                            TextColor="White"
                                            VerticalOptions="Center" />
                                    </Border>
                                </VerticalStackLayout>
                            </Grid>

                            <!--  Email Field  -->
                            <VerticalStackLayout Spacing="8">
                                <Label
                                    FontAttributes="Bold"
                                    FontSize="12"
                                    Text="EMAIL ADDRESS"
                                    TextColor="#CBD5E1" />
                                <Border
                                    BackgroundColor="#0F172A"
                                    HeightRequest="50"
                                    Stroke="#334155"
                                    StrokeShape="RoundRectangle 8"
                                    StrokeThickness="1">
                                    <Grid ColumnDefinitions="50, *">
                                        <Label
                                            FontFamily="Arial"
                                            FontSize="18"
                                            HorizontalOptions="Center"
                                            Text="âœ‰"
                                            TextColor="#64748B"
                                            VerticalOptions="Center" />
                                        <Entry
                                            Grid.Column="1"
                                            Margin="0,0,10,0"
                                            Keyboard="Email"
                                            Placeholder="e.g. john@example.com"
                                            PlaceholderColor="#475569"
                                            Text="{Binding Email}"
                                            TextColor="White"
                                            VerticalOptions="Center" />
                                    </Grid>
                                </Border>
                            </VerticalStackLayout>

                            <!--  ID Field  -->
                            <VerticalStackLayout Spacing="8">
                                <Label
                                    x:Name="LblIdField"
                                    FontAttributes="Bold"
                                    FontSize="12"
                                    Text="{Binding IdFieldLabel}"
                                    TextColor="#CBD5E1" />
                                <Border
                                    BackgroundColor="#0F172A"
                                    HeightRequest="50"
                                    Stroke="#334155"
                                    StrokeShape="RoundRectangle 8"
                                    StrokeThickness="1">
                                    <Grid ColumnDefinitions="50, *">
                                        <Label
                                            FontFamily="Arial"
                                            FontSize="18"
                                            HorizontalOptions="Center"
                                            Text="ðŸ†”"
                                            TextColor="#64748B"
                                            VerticalOptions="Center" />
                                        <Entry
                                            x:Name="EntryId"
                                            Grid.Column="1"
                                            Margin="0,0,10,0"
                                            Placeholder="{Binding IdPlaceholder}"
                                            PlaceholderColor="#475569"
                                            Text="{Binding Id}"
                                            TextColor="White"
                                            VerticalOptions="Center" />
                                    </Grid>
                                </Border>
                            </VerticalStackLayout>

                            <!--  Department Field  -->
                            <VerticalStackLayout Spacing="8">
                                <Label
                                    FontAttributes="Bold"
                                    FontSize="12"
                                    Text="DEPARTMENT"
                                    TextColor="#CBD5E1" />
                                <Border
                                    BackgroundColor="#0F172A"
                                    HeightRequest="50"
                                    Stroke="#334155"
                                    StrokeShape="RoundRectangle 8"
                                    StrokeThickness="1">
                                    <Grid ColumnDefinitions="50, *">
                                        <Label
                                            FontFamily="Arial"
                                            FontSize="18"
                                            HorizontalOptions="Center"
                                            Text="ðŸ›"
                                            TextColor="#64748B"
                                            VerticalOptions="Center" />
                                        <Entry
                                            Grid.Column="1"
                                            Margin="0,0,10,0"
                                            Placeholder="{Binding DeptPlaceholder}"
                                            PlaceholderColor="#475569"
                                            Text="{Binding Department}"
                                            TextColor="White"
                                            VerticalOptions="Center" />
                                    </Grid>
                                </Border>
                            </VerticalStackLayout>

                            <!--  Password Field  -->
                            <VerticalStackLayout Spacing="8">
                                <Label
                                    FontAttributes="Bold"
                                    FontSize="12"
                                    Text="PASSWORD"
                                    TextColor="#CBD5E1" />
                                <Border
                                    BackgroundColor="#0F172A"
                                    HeightRequest="50"
                                    Stroke="#334155"
                                    StrokeShape="RoundRectangle 8"
                                    StrokeThickness="1">
                                    <Grid ColumnDefinitions="50, *, 50">
                                        <Label
                                            FontFamily="Arial"
                                            FontSize="18"
                                            HorizontalOptions="Center"
                                            Text="ðŸ”’"
                                            TextColor="#64748B"
                                            VerticalOptions="Center" />
                                        <Entry
                                            Grid.Column="1"
                                            Margin="0,0,10,0"
                                            IsPassword="{Binding IsPassword}"
                                            Placeholder="Create a password"
                                            PlaceholderColor="#475569"
                                            Text="{Binding Password}"
                                            TextColor="White"
                                            VerticalOptions="Center" />
                                        <Label
                                            Grid.Column="2"
                                            FontFamily="Arial"
                                            FontSize="18"
                                            HeightRequest="40"
                                            HorizontalTextAlignment="Center"
                                            Text="ðŸ‘"
                                            TextColor="#64748B"
                                            VerticalTextAlignment="Center"
                                            WidthRequest="40">
                                            <Label.GestureRecognizers>
                                                <TapGestureRecognizer Command="{Binding TogglePasswordCommand}" />
                                            </Label.GestureRecognizers>
                                        </Label>
                                    </Grid>
                                </Border>
                            </VerticalStackLayout>

                            <!--  Confirm Password Field  -->
                            <VerticalStackLayout Spacing="8">
                                <Label
                                    FontAttributes="Bold"
                                    FontSize="12"
                                    Text="CONFIRM PASSWORD"
                                    TextColor="#CBD5E1" />
                                <Border
                                    BackgroundColor="#0F172A"
                                    HeightRequest="50"
                                    Stroke="#334155"
                                    StrokeShape="RoundRectangle 8"
                                    StrokeThickness="1">
                                    <Grid ColumnDefinitions="50, *, 50">
                                        <Label
                                            FontFamily="Arial"
                                            FontSize="18"
                                            HorizontalOptions="Center"
                                            Text="ðŸ”’"
                                            TextColor="#64748B"
                                            VerticalOptions="Center" />
                                        <Entry
                                            Grid.Column="1"
                                            Margin="0,0,10,0"
                                            IsPassword="{Binding IsPassword}"
                                            Placeholder="Confirm password"
                                            PlaceholderColor="#475569"
                                            Text="{Binding ConfirmPassword}"
                                            TextColor="White"
                                            VerticalOptions="Center" />
                                    </Grid>
                                </Border>
                            </VerticalStackLayout>
                        </VerticalStackLayout>

                        <!--  Action Button  -->
                        <Button
                            BackgroundColor="#10B981"
                            Command="{Binding SignUpCommand}"
                            CornerRadius="10"
                            FontAttributes="Bold"
                            FontSize="16"
                            HeightRequest="55"
                            Text="Create Account"
                            TextColor="White">
                            <Button.Shadow>
                                <Shadow
                                    Brush="#10B981"
                                    Opacity="0.4"
                                    Radius="10"
                                    Offset="0,4" />
                            </Button.Shadow>
                        </Button>

                        <!--  Footer  -->
                        <Label
                            FontSize="13"
                            HorizontalOptions="Center"
                            VerticalOptions="Center">
                            <Label.FormattedText>
                                <FormattedString>
                                    <Span Text="Already have an account? " TextColor="#94A3B8" />
                                    <Span
                                        FontAttributes="Bold"
                                        Text="Login here"
                                        TextColor="#3B82F6">
                                        <Span.GestureRecognizers>
                                            <TapGestureRecognizer Command="{Binding LoginCommand}" />
                                        </Span.GestureRecognizers>
                                    </Span>
                                </FormattedString>
                            </Label.FormattedText>
                        </Label>

                    </VerticalStackLayout>
                </Border>

            </Grid>
        </ScrollView>
    </Grid>
</ContentPage>
